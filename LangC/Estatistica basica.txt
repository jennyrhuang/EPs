/*
 ESTRUTURA DE DADOS - Estatística básica
 Autor: Jennifer Ruei Huang
 Data: 09/02/2022
    
    Desenvolva um programa em linguagem C que receba um primeiro número inteiro com a quantidade N de valores a serem submetidos e a série de N números. O programa deverá retornar os valores máximo e mínimo, a média, a mediana e o desvio-padrão (populacional) dos valores. Sem importar nenhuma biblioteca além da biblioteca-padrão C e a biblioteca matemática.*/


#include <stdio.h>
#include <math.h>   // funções matemáticas

int main(){
    int qtd_num, numero, aux, contagem=0, j=0, conta=0;
    float val_min, val_max, media, mediana, moda;
    double desvio;
    
    printf("Quantos números na sua série (N): "); 
    scanf("%d", &qtd_num);
    printf("Entre com números:\n");
    
    float mat[qtd_num];
    int cont[qtd_num]; 
    float soma = 0;
    if(qtd_num>0){
        for(int i=0; i<qtd_num; i++){
            printf("> ");
            scanf("%f", &mat[i]);
            soma+=mat[i];
        }
    }
        
    // valores mínimo e máximo
    val_max = mat[0];
    val_min = mat[0];
    for(int i = 0; i<qtd_num; i++){
        if(mat[i] > val_max){
            val_max = mat[i];
        }
        if(mat[i] < val_min){
            val_min = mat[i];
        }
    }
        
    // média
    media = soma / qtd_num;
        
    // mediana
    int x=0;
    if( qtd_num/2 != aux ) {
        mediana = mat[(int)ceil(qtd_num/2)];
    }
    else {
        x = mat[qtd_num/2] + mat[(qtd_num/2)+1];
        mediana = x/2;
    }
         
    // desvio padrão
    for(int i=0; i<qtd_num; i++){
        contagem += pow(mat[i] - media, 2);
        desvio = sqrt(contagem / qtd_num);
    }
    
    // moda
    for(int i=0; i<qtd_num; i++){
        for(j=i+1; j<qtd_num; j++){
            if(mat[i] == mat[j]){
                cont[i]++;
                    if(cont[i]>conta){
                        conta=cont[i];
                        moda=mat[i];
                    }
            }
        }
        cont[i]=0;
    }
    
    printf("Valor mínimo: %.2f\nValor Máximo: %.2f\nMédia: %.2f\nMediana: %.2f\nDesvio padrão: %f\nModa: %f (aparece %d vezes)", val_min, val_max, media, mediana, desvio, moda, conta);
    
}
        
